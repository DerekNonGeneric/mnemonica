'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
exports.registerHook = void 0;
const errors_1 = require("../../descriptors/errors");
const { WRONG_HOOK_TYPE, MISSING_HOOK_CALLBACK, } = errors_1.ErrorsTypes;
const hooksTypes = [
    'preCreation',
    'postCreation',
    'creationError',
];
const registerHook = function (hookType, cb) {
    if (!hooksTypes.includes(hookType)) {
        throw new WRONG_HOOK_TYPE;
    }
    if (typeof cb !== 'function') {
        throw new MISSING_HOOK_CALLBACK;
    }
    if (!this.hooks[hookType]) {
        this.hooks[hookType] = new Set([cb]);
    }
    else {
        this.hooks[hookType].add(cb);
    }
};
exports.registerHook = registerHook;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXJIb29rLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FwaS9ob29rcy9yZWdpc3Rlckhvb2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOzs7QUFFYixxREFBdUQ7QUFDdkQsTUFBTSxFQUNMLGVBQWUsRUFDZixxQkFBcUIsR0FDckIsR0FBRyxvQkFBVyxDQUFDO0FBRWhCLE1BQU0sVUFBVSxHQUFHO0lBQ2xCLGFBQWE7SUFDYixjQUFjO0lBQ2QsZUFBZTtDQUNmLENBQUM7QUFFSyxNQUFNLFlBQVksR0FBRyxVQUFzQixRQUFnQixFQUFFLEVBQW9CO0lBRXZGLElBQUssQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFFLFFBQVEsQ0FBRSxFQUFHLENBQUM7UUFDeEMsTUFBTSxJQUFJLGVBQWUsQ0FBQztJQUMzQixDQUFDO0lBRUQsSUFBSyxPQUFPLEVBQUUsS0FBSyxVQUFVLEVBQUcsQ0FBQztRQUNoQyxNQUFNLElBQUkscUJBQXFCLENBQUM7SUFDakMsQ0FBQztJQUVELElBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFFLFFBQVEsQ0FBRSxFQUFHLENBQUM7UUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBRSxRQUFRLENBQUUsR0FBRyxJQUFJLEdBQUcsQ0FBRSxDQUFFLEVBQUUsQ0FBRSxDQUFFLENBQUM7SUFDNUMsQ0FBQztTQUFNLENBQUM7UUFDUCxJQUFJLENBQUMsS0FBSyxDQUFFLFFBQVEsQ0FBRSxDQUFDLEdBQUcsQ0FBRSxFQUFFLENBQUUsQ0FBQztJQUNsQyxDQUFDO0FBRUYsQ0FBQyxDQUFDO0FBaEJXLFFBQUEsWUFBWSxnQkFnQnZCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFcnJvcnNUeXBlcyB9IGZyb20gJy4uLy4uL2Rlc2NyaXB0b3JzL2Vycm9ycyc7XG5jb25zdCB7XG5cdFdST05HX0hPT0tfVFlQRSxcblx0TUlTU0lOR19IT09LX0NBTExCQUNLLFxufSA9IEVycm9yc1R5cGVzO1xuXG5jb25zdCBob29rc1R5cGVzID0gW1xuXHQncHJlQ3JlYXRpb24nLFxuXHQncG9zdENyZWF0aW9uJyxcblx0J2NyZWF0aW9uRXJyb3InLFxuXTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVySG9vayA9IGZ1bmN0aW9uICggdGhpczogYW55LCBob29rVHlwZTogc3RyaW5nLCBjYjogQ2FsbGFibGVGdW5jdGlvbiApIHtcblxuXHRpZiAoICFob29rc1R5cGVzLmluY2x1ZGVzKCBob29rVHlwZSApICkge1xuXHRcdHRocm93IG5ldyBXUk9OR19IT09LX1RZUEU7XG5cdH1cblxuXHRpZiAoIHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJyApIHtcblx0XHR0aHJvdyBuZXcgTUlTU0lOR19IT09LX0NBTExCQUNLO1xuXHR9XG5cblx0aWYgKCAhdGhpcy5ob29rc1sgaG9va1R5cGUgXSApIHtcblx0XHR0aGlzLmhvb2tzWyBob29rVHlwZSBdID0gbmV3IFNldCggWyBjYiBdICk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5ob29rc1sgaG9va1R5cGUgXS5hZGQoIGNiICk7XG5cdH1cblxufTtcbiJdfQ==